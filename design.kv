<LoginScreen>: #create a screen
    GridLayout: #widget for creating a grid
        cols:1
        GridLayout:#one column
            cols:1
            padding: 15, 15 #padding around
            spacing: 20, 20 #space between widgetes
            Label: #Create a label for the page
                text: "User Login" #text for the label
                font_size: '20sp'
            TextInput: #Create a input box for the user
                id: username
                hint_text:"Username" #text in the box
            TextInput:
                id: password
                hint_text:"Password"
                password:True
            RelativeLayout: #to create a button with a size not depedent to the GridLayout
                Button: #create a button
                    text:"Login" #text on the button
                    on_press: root.login(root.ids.username.text, root.ids.password.text)
                    size_hint: 0.3, 0.5
                    pos_hint:{'center_x':0.5, 'center_y':0.6}
            Label:
                id: login_wrong
                text:""
        GridLayout: #second half of the app as a 2 columns layot
            cols:2
            size_hint: 0.2, 0.2 #20% of the main GridLayout
            padding: 10, 10
            spacing: 10, 0
            Button:
                text:"Forgot Password?"
                on_press: root.forget_password()
                background_color: 1, 1, 1, 0
                opacity:1 if self.state =='normal' else 0.3
                color: 0.1, 0.7, 1, 1
            Button:
                text:"Sign Up"
                on_press: root.sign_up() #root: refer to the class of the rule widgetes where it is placed. Any time the sign up button is pressed it calls the sign_up method in the .py file
                background_color: 1, 1, 1, 0
                opacity:1 if self.state =='normal' else 0.6
                color: 0.1, 0.7, 1, 1

<SignUpScreen>: #create the sign up page
    GridLayout:
        cols: 1
        Label:
            text:"Sign up!!"
        TextInput:
            id: username
            hint_text: "Username"
        TextInput:
            id: password
            hint_text: "Password"
        Button:
            text:"Sign Up"
            on_press: root.add_user(root.ids.username.text, root.ids.password.text) #get back the text that the user entered in the text boxes

<SignUpScreenSuccess>:
    GridLayout:
        cols:1
        Label:
            text:"Sign up successfull!"
        Button:
            text: "Login page"
            on_press: root.login_back()

<ForgottenPassword>:
    GridLayout:
        cols:1
        Label:
            text: "Insert Username:"
        TextInput:
            id:username_password
            hint_text: "Username"
        Button:
            text:"Show my password:"
            on_press: root.check_password(root.ids.username_password.text)
        Label:
            id:show_password
            text:""
        Button:
            text: "Login page"
            on_press: root.forgot_password_back()

<LoginScreenSuccess>:
    GridLayout:
        cols:1
        Button:
            text: "Logout"
            on_press: root.log_out()
        Label:
            text:"How are you?"
        TextInput:
            id: feeling
            hint_text:"Things to try: happy, sad, unloved...."
        Button:
            text:"Go head!"
            on_press: root.get_quote(root.ids.feeling.text)
        Label:
            id: quote
            text:""


<RootWidget>: #Rule: invisible widget that take records of all the screen of the app
    LoginScreen: #name for the screen
        name: "login_screen"
    SignUpScreen:
        name: "sign_up_screen"
    SignUpScreenSuccess:
        name:"sign_up_screen_success"
    ForgottenPassword:
        name:"forget_password_screen"
    LoginScreenSuccess:
        name: "loging_screen_success"
